/*! y-track HEAD(3982f3f) - "2020-03-12 08:36:06 +0100" - 1583998801591 */
function PHsha256(a){"use strict";function b(a,b){b?(m[0]=m[16]=m[1]=m[2]=m[3]=m[4]=m[5]=m[6]=m[7]=m[8]=m[9]=m[10]=m[11]=m[12]=m[13]=m[14]=m[15]=0,this.blocks=m):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],a?(this.h0=3238371032,this.h1=914150663,this.h2=812702999,this.h3=4144912697,this.h4=4290775857,this.h5=1750603025,this.h6=1694076839,this.h7=3204075428):(this.h0=1779033703,this.h1=3144134277,this.h2=1013904242,this.h3=2773480762,this.h4=1359893119,this.h5=2600822924,this.h6=528734635,this.h7=1541459225),this.block=this.start=this.bytes=0,this.finalized=this.hashed=!1,this.first=!0,this.is224=a}var c=a,d=!1;d&&(c=global);var e=!c.JS_SHA256_NO_COMMON_JS&&"object"==typeof module&&module.exports,f=!1,g="undefined"!=typeof ArrayBuffer,h="0123456789abcdef".split(""),i=[-2147483648,8388608,32768,128],j=[24,16,8,0],k=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],l=["hex","array","digest","arrayBuffer"],m=[],n=function(a,c){return function(d){return new b(c,!0).update(d)[a]()}},o=function(a){var c=n("hex",a);d&&(c=p(c,a)),c.create=function(){return new b(a)},c.update=function(a){return c.create().update(a)};for(var e=0;e<l.length;++e){var f=l[e];c[f]=n(f,a)}return c},p=function(a,b){var c=require("crypto"),d=require("buffer").Buffer,e=b?"sha224":"sha256",f=function(b){if("string"==typeof b)return c.createHash(e).update(b,"utf8").digest("hex");if(g&&b instanceof ArrayBuffer)b=new Uint8Array(b);else if(void 0===b.length)return a(b);return c.createHash(e).update(new d(b)).digest("hex")};return f};b.prototype.update=function(a){if(!this.finalized){var b="string"!=typeof a;b&&g&&a instanceof c.ArrayBuffer&&(a=new Uint8Array(a));for(var d,e,f=0,h=a.length||0,i=this.blocks;h>f;){if(this.hashed&&(this.hashed=!1,i[0]=this.block,i[16]=i[1]=i[2]=i[3]=i[4]=i[5]=i[6]=i[7]=i[8]=i[9]=i[10]=i[11]=i[12]=i[13]=i[14]=i[15]=0),b)for(e=this.start;h>f&&64>e;++f)i[e>>2]|=a[f]<<j[3&e++];else for(e=this.start;h>f&&64>e;++f)d=a.charCodeAt(f),128>d?i[e>>2]|=d<<j[3&e++]:2048>d?(i[e>>2]|=(192|d>>6)<<j[3&e++],i[e>>2]|=(128|63&d)<<j[3&e++]):55296>d||d>=57344?(i[e>>2]|=(224|d>>12)<<j[3&e++],i[e>>2]|=(128|d>>6&63)<<j[3&e++],i[e>>2]|=(128|63&d)<<j[3&e++]):(d=65536+((1023&d)<<10|1023&a.charCodeAt(++f)),i[e>>2]|=(240|d>>18)<<j[3&e++],i[e>>2]|=(128|d>>12&63)<<j[3&e++],i[e>>2]|=(128|d>>6&63)<<j[3&e++],i[e>>2]|=(128|63&d)<<j[3&e++]);this.lastByteIndex=e,this.bytes+=e-this.start,e>=64?(this.block=i[16],this.start=e-64,this.hash(),this.hashed=!0):this.start=e}return this}},b.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var a=this.blocks,b=this.lastByteIndex;a[16]=this.block,a[b>>2]|=i[3&b],this.block=a[16],b>=56&&(this.hashed||this.hash(),a[0]=this.block,a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),a[15]=this.bytes<<3,this.hash()}},b.prototype.hash=function(){var a,b,c,d,e,f,g,h,i,j,l,m=this.h0,n=this.h1,o=this.h2,p=this.h3,q=this.h4,r=this.h5,s=this.h6,t=this.h7,u=this.blocks;for(a=16;64>a;++a)e=u[a-15],b=(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3,e=u[a-2],c=(e>>>17|e<<15)^(e>>>19|e<<13)^e>>>10,u[a]=u[a-16]+b+u[a-7]+c<<0;for(l=n&o,a=0;64>a;a+=4)this.first?(this.is224?(h=300032,e=u[0]-1413257819,t=e-150054599<<0,p=e+24177077<<0):(h=704751109,e=u[0]-210244248,t=e-1521486534<<0,p=e+143694565<<0),this.first=!1):(b=(m>>>2|m<<30)^(m>>>13|m<<19)^(m>>>22|m<<10),c=(q>>>6|q<<26)^(q>>>11|q<<21)^(q>>>25|q<<7),h=m&n,d=h^m&o^l,g=q&r^~q&s,e=t+c+g+k[a]+u[a],f=b+d,t=p+e<<0,p=e+f<<0),b=(p>>>2|p<<30)^(p>>>13|p<<19)^(p>>>22|p<<10),c=(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7),i=p&m,d=i^p&n^h,g=t&q^~t&r,e=s+c+g+k[a+1]+u[a+1],f=b+d,s=o+e<<0,o=e+f<<0,b=(o>>>2|o<<30)^(o>>>13|o<<19)^(o>>>22|o<<10),c=(s>>>6|s<<26)^(s>>>11|s<<21)^(s>>>25|s<<7),j=o&p,d=j^o&m^i,g=s&t^~s&q,e=r+c+g+k[a+2]+u[a+2],f=b+d,r=n+e<<0,n=e+f<<0,b=(n>>>2|n<<30)^(n>>>13|n<<19)^(n>>>22|n<<10),c=(r>>>6|r<<26)^(r>>>11|r<<21)^(r>>>25|r<<7),l=n&o,d=l^n&p^j,g=r&s^~r&t,e=q+c+g+k[a+3]+u[a+3],f=b+d,q=m+e<<0,m=e+f<<0;this.h0=this.h0+m<<0,this.h1=this.h1+n<<0,this.h2=this.h2+o<<0,this.h3=this.h3+p<<0,this.h4=this.h4+q<<0,this.h5=this.h5+r<<0,this.h6=this.h6+s<<0,this.h7=this.h7+t<<0},b.prototype.hex=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,d=this.h3,e=this.h4,f=this.h5,g=this.h6,i=this.h7,j=h[a>>28&15]+h[a>>24&15]+h[a>>20&15]+h[a>>16&15]+h[a>>12&15]+h[a>>8&15]+h[a>>4&15]+h[15&a]+h[b>>28&15]+h[b>>24&15]+h[b>>20&15]+h[b>>16&15]+h[b>>12&15]+h[b>>8&15]+h[b>>4&15]+h[15&b]+h[c>>28&15]+h[c>>24&15]+h[c>>20&15]+h[c>>16&15]+h[c>>12&15]+h[c>>8&15]+h[c>>4&15]+h[15&c]+h[d>>28&15]+h[d>>24&15]+h[d>>20&15]+h[d>>16&15]+h[d>>12&15]+h[d>>8&15]+h[d>>4&15]+h[15&d]+h[e>>28&15]+h[e>>24&15]+h[e>>20&15]+h[e>>16&15]+h[e>>12&15]+h[e>>8&15]+h[e>>4&15]+h[15&e]+h[f>>28&15]+h[f>>24&15]+h[f>>20&15]+h[f>>16&15]+h[f>>12&15]+h[f>>8&15]+h[f>>4&15]+h[15&f]+h[g>>28&15]+h[g>>24&15]+h[g>>20&15]+h[g>>16&15]+h[g>>12&15]+h[g>>8&15]+h[g>>4&15]+h[15&g];return this.is224||(j+=h[i>>28&15]+h[i>>24&15]+h[i>>20&15]+h[i>>16&15]+h[i>>12&15]+h[i>>8&15]+h[i>>4&15]+h[15&i]),j},b.prototype.toString=b.prototype.hex,b.prototype.digest=function(){this.finalize();var a=this.h0,b=this.h1,c=this.h2,d=this.h3,e=this.h4,f=this.h5,g=this.h6,h=this.h7,i=[a>>24&255,a>>16&255,a>>8&255,255&a,b>>24&255,b>>16&255,b>>8&255,255&b,c>>24&255,c>>16&255,c>>8&255,255&c,d>>24&255,d>>16&255,d>>8&255,255&d,e>>24&255,e>>16&255,e>>8&255,255&e,f>>24&255,f>>16&255,f>>8&255,255&f,g>>24&255,g>>16&255,g>>8&255,255&g];return this.is224||i.push(h>>24&255,h>>16&255,h>>8&255,255&h),i},b.prototype.array=b.prototype.digest,b.prototype.arrayBuffer=function(){this.finalize();var a=new ArrayBuffer(this.is224?28:32),b=new DataView(a);return b.setUint32(0,this.h0),b.setUint32(4,this.h1),b.setUint32(8,this.h2),b.setUint32(12,this.h3),b.setUint32(16,this.h4),b.setUint32(20,this.h5),b.setUint32(24,this.h6),this.is224||b.setUint32(28,this.h7),a};var q=o();q.sha256=q,q.sha224=o(!0),e?module.exports=q:(c.sha256=q.sha256,c.sha224=q.sha224,f&&define(function(){return q}))}function PHmd5(a){"use strict";function b(a,b){var c=(65535&a)+(65535&b),d=(a>>16)+(b>>16)+(c>>16);return d<<16|65535&c}function c(a,b){return a<<b|a>>>32-b}function d(a,d,e,f,g,h){return b(c(b(b(d,a),b(f,h)),g),e)}function e(a,b,c,e,f,g,h){return d(b&c|~b&e,a,b,f,g,h)}function f(a,b,c,e,f,g,h){return d(b&e|c&~e,a,b,f,g,h)}function g(a,b,c,e,f,g,h){return d(b^c^e,a,b,f,g,h)}function h(a,b,c,e,f,g,h){return d(c^(b|~e),a,b,f,g,h)}function i(a,c){a[c>>5]|=128<<c%32,a[(c+64>>>9<<4)+14]=c;var d,i,j,k,l,m=1732584193,n=-271733879,o=-1732584194,p=271733878;for(d=0;d<a.length;d+=16)i=m,j=n,k=o,l=p,m=e(m,n,o,p,a[d],7,-680876936),p=e(p,m,n,o,a[d+1],12,-389564586),o=e(o,p,m,n,a[d+2],17,606105819),n=e(n,o,p,m,a[d+3],22,-1044525330),m=e(m,n,o,p,a[d+4],7,-176418897),p=e(p,m,n,o,a[d+5],12,1200080426),o=e(o,p,m,n,a[d+6],17,-1473231341),n=e(n,o,p,m,a[d+7],22,-45705983),m=e(m,n,o,p,a[d+8],7,1770035416),p=e(p,m,n,o,a[d+9],12,-1958414417),o=e(o,p,m,n,a[d+10],17,-42063),n=e(n,o,p,m,a[d+11],22,-1990404162),m=e(m,n,o,p,a[d+12],7,1804603682),p=e(p,m,n,o,a[d+13],12,-40341101),o=e(o,p,m,n,a[d+14],17,-1502002290),n=e(n,o,p,m,a[d+15],22,1236535329),m=f(m,n,o,p,a[d+1],5,-165796510),p=f(p,m,n,o,a[d+6],9,-1069501632),o=f(o,p,m,n,a[d+11],14,643717713),n=f(n,o,p,m,a[d],20,-373897302),m=f(m,n,o,p,a[d+5],5,-701558691),p=f(p,m,n,o,a[d+10],9,38016083),o=f(o,p,m,n,a[d+15],14,-660478335),n=f(n,o,p,m,a[d+4],20,-405537848),m=f(m,n,o,p,a[d+9],5,568446438),p=f(p,m,n,o,a[d+14],9,-1019803690),o=f(o,p,m,n,a[d+3],14,-187363961),n=f(n,o,p,m,a[d+8],20,1163531501),m=f(m,n,o,p,a[d+13],5,-1444681467),p=f(p,m,n,o,a[d+2],9,-51403784),o=f(o,p,m,n,a[d+7],14,1735328473),n=f(n,o,p,m,a[d+12],20,-1926607734),m=g(m,n,o,p,a[d+5],4,-378558),p=g(p,m,n,o,a[d+8],11,-2022574463),o=g(o,p,m,n,a[d+11],16,1839030562),n=g(n,o,p,m,a[d+14],23,-35309556),m=g(m,n,o,p,a[d+1],4,-1530992060),p=g(p,m,n,o,a[d+4],11,1272893353),o=g(o,p,m,n,a[d+7],16,-155497632),n=g(n,o,p,m,a[d+10],23,-1094730640),m=g(m,n,o,p,a[d+13],4,681279174),p=g(p,m,n,o,a[d],11,-358537222),o=g(o,p,m,n,a[d+3],16,-722521979),n=g(n,o,p,m,a[d+6],23,76029189),m=g(m,n,o,p,a[d+9],4,-640364487),p=g(p,m,n,o,a[d+12],11,-421815835),o=g(o,p,m,n,a[d+15],16,530742520),n=g(n,o,p,m,a[d+2],23,-995338651),m=h(m,n,o,p,a[d],6,-198630844),p=h(p,m,n,o,a[d+7],10,1126891415),o=h(o,p,m,n,a[d+14],15,-1416354905),n=h(n,o,p,m,a[d+5],21,-57434055),m=h(m,n,o,p,a[d+12],6,1700485571),p=h(p,m,n,o,a[d+3],10,-1894986606),o=h(o,p,m,n,a[d+10],15,-1051523),n=h(n,o,p,m,a[d+1],21,-2054922799),m=h(m,n,o,p,a[d+8],6,1873313359),p=h(p,m,n,o,a[d+15],10,-30611744),o=h(o,p,m,n,a[d+6],15,-1560198380),n=h(n,o,p,m,a[d+13],21,1309151649),m=h(m,n,o,p,a[d+4],6,-145523070),p=h(p,m,n,o,a[d+11],10,-1120210379),o=h(o,p,m,n,a[d+2],15,718787259),n=h(n,o,p,m,a[d+9],21,-343485551),m=b(m,i),n=b(n,j),o=b(o,k),p=b(p,l);return[m,n,o,p]}function j(a){var b,c="",d=32*a.length;for(b=0;d>b;b+=8)c+=String.fromCharCode(a[b>>5]>>>b%32&255);return c}function k(a){var b,c=[];for(c[(a.length>>2)-1]=void 0,b=0;b<c.length;b+=1)c[b]=0;var d=8*a.length;for(b=0;d>b;b+=8)c[b>>5]|=(255&a.charCodeAt(b/8))<<b%32;return c}function l(a){return j(i(k(a),8*a.length))}function m(a,b){var c,d,e=k(a),f=[],g=[];for(f[15]=g[15]=void 0,e.length>16&&(e=i(e,8*a.length)),c=0;16>c;c+=1)f[c]=909522486^e[c],g[c]=1549556828^e[c];return d=i(f.concat(k(b)),512+8*b.length),j(i(g.concat(d),640))}function n(a){var b,c,d="0123456789abcdef",e="";for(c=0;c<a.length;c+=1)b=a.charCodeAt(c),e+=d.charAt(b>>>4&15)+d.charAt(15&b);return e}function o(a){return unescape(encodeURIComponent(a))}function p(a){return l(o(a))}function q(a){return n(p(a))}function r(a,b){return m(o(a),o(b))}function s(a,b){return n(r(a,b))}function t(a,b,c){return b?c?r(b,a):s(b,a):c?p(a):q(a)}a.md5=t}Array.prototype.forEach||(Array.prototype.forEach=function(a,b){var c,d=null;if(null==this)throw new TypeError(" this is null or not defined");var e=Object(this),f=e.length>>>0;if("function"!=typeof a)throw new TypeError(a+" is not a function");for(arguments.length>1&&(c=b),d=0;f>d;){var g;d in e&&(g=e[d],a.call(c,g,d,e)),d++}});var YtTool=function(){"use strict";function a(a){this.domain=a||"api.dmp.y-track.com"}return a.prototype.getCookie=function(a){var b,c,d=a+"=",e=document.cookie.split(";");for(b=0;b<e.length;b+=1){for(c=e[b];" "===c.charAt(0);)c=c.substring(1);if(-1!==c.indexOf(d))return c.substring(d.length,c.length)}return""},a.prototype._serialize=function(a,b){var c,d,e,f=[];for(c in a)a.hasOwnProperty(c)&&(d=b?b+"["+c+"]":c,e=a[c],f.push("object"==typeof e?this._serialize(e,d):encodeURIComponent(d)+"="+encodeURIComponent(e)));return f.join("&")},a.prototype.getXHR=function(){var a=null;return window.XDomainRequest?a=new XDomainRequest:window.XMLHttpRequest&&(a=new XMLHttpRequest),a},a.prototype.api=function(a,b,c,d,e,f,g){var h=this.getXHR();return null!==h&&(h.open(c,a),f&&f.forEach&&h.setRequestHeader&&f.forEach(function(a){h.setRequestHeader(a.id,a.value)}),"withCredentials"in h&&(h.withCredentials=!0),h.onload=function(a){"status"in h?h.status>=200&&h.status<400?(b=g?h.responseText:JSON.parse(h.responseText),"function"==typeof d&&d(b)):"function"==typeof e&&e(a):(b=g?h.responseText:JSON.parse(h.responseText),"function"==typeof d&&d(b))},h.onerror=function(a){"function"==typeof e&&e(a),"console"in window&&window.console.log(a)},b?h.send(this._serialize(b)):h.send(b)),h},a}();!function(a,b,c){b[a]=c()}("Fingerprint",this,function(){"use strict";var a=function(a){var b,c;b=Array.prototype.forEach,c=Array.prototype.map,this.each=function(a,c,d){if(null!==a)if(b&&a.forEach===b)a.forEach(c,d);else if(a.length===+a.length){for(var e=0,f=a.length;f>e;e++)if(c.call(d,a[e],e,a)==={})return}else for(var g in a)if(a.hasOwnProperty(g)&&c.call(d,a[g],g,a)==={})return},this.map=function(a,b,d){var e=[];return null==a?e:c&&a.map===c?a.map(b,d):(this.each(a,function(a,c,f){e[e.length]=b.call(d,a,c,f)}),e)},"object"==typeof a?(this.hasher=a.hasher,this.screen_resolution=a.screen_resolution,this.canvas=a.canvas,this.ie_activex=a.ie_activex):"function"==typeof a&&(this.hasher=a)};return a.prototype={get:function(){var a=[];if(a.push(navigator.userAgent),a.push(navigator.language),a.push(screen.colorDepth),this.screen_resolution){var b=this.getScreenResolution();"undefined"!=typeof b&&a.push(this.getScreenResolution().join("x"))}return a.push((new Date).getTimezoneOffset()),a.push(this.hasSessionStorage()),a.push(this.hasLocalStorage()),a.push(!!window.indexedDB),document.body?a.push(typeof document.body.addBehavior):a.push("undefined"),a.push(typeof window.openDatabase),a.push(navigator.cpuClass),a.push(navigator.platform),a.push(navigator.doNotTrack),a.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&a.push(this.getCanvasFingerprint()),this.hasher?this.hasher(a.join("###"),31):this.murmurhash3_32_gc(a.join("###"),31)},murmurhash3_32_gc:function(a,b){var c,d,e,f,g,h,i,j;for(c=3&a.length,d=a.length-c,e=b,g=3432918353,h=461845907,j=0;d>j;)i=255&a.charCodeAt(j)|(255&a.charCodeAt(++j))<<8|(255&a.charCodeAt(++j))<<16|(255&a.charCodeAt(++j))<<24,++j,i=(65535&i)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i,e=e<<13|e>>>19,f=5*(65535&e)+((5*(e>>>16)&65535)<<16)&4294967295,e=(65535&f)+27492+(((f>>>16)+58964&65535)<<16);switch(i=0,c){case 3:i^=(255&a.charCodeAt(j+2))<<16;case 2:i^=(255&a.charCodeAt(j+1))<<8;case 1:i^=255&a.charCodeAt(j),i=(65535&i)*g+(((i>>>16)*g&65535)<<16)&4294967295,i=i<<15|i>>>17,i=(65535&i)*h+(((i>>>16)*h&65535)<<16)&4294967295,e^=i}return e^=a.length,e^=e>>>16,e=2246822507*(65535&e)+((2246822507*(e>>>16)&65535)<<16)&4294967295,e^=e>>>13,e=3266489909*(65535&e)+((3266489909*(e>>>16)&65535)<<16)&4294967295,e^=e>>>16,e>>>0},hasLocalStorage:function(){try{return!!window.localStorage}catch(a){return!0}},hasSessionStorage:function(){try{return!!window.sessionStorage}catch(a){return!0}},isCanvasSupported:function(){var a=document.createElement("canvas");return!(!a.getContext||!a.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},getPluginsString:function(){return this.isIE()&&this.ie_activex?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(a){var b=this.map(a,function(a){return[a.type,a.suffixes].join("~")}).join(",");return[a.name,a.description,b].join("::")},this).join(";")},getIEPluginsString:function(){if(window.ActiveXObject){var a=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"];return this.map(a,function(a){try{return new ActiveXObject(a),a}catch(b){return null}}).join(";")}return""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var a=document.createElement("canvas"),b=a.getContext("2d"),c="http://valve.github.io";return b.textBaseline="top",b.font="14px 'Arial'",b.textBaseline="alphabetic",b.fillStyle="#f60",b.fillRect(125,1,62,20),b.fillStyle="#069",b.fillText(c,2,15),b.fillStyle="rgba(102, 204, 0, 0.7)",b.fillText(c,4,17),a.toDataURL()}},a}),function(){if(_wt1Q="undefined"!=typeof _wt1Q&&_wt1Q?_wt1Q:[],"undefined"!=typeof Fingerprint){var a=new Fingerprint({canvas:!0}).get();_wt1Q.push(["setFingerprint",a])}}();var YtApi=function(){"use strict";function a(){return f||"undefined"==typeof Fingerprint||(f=new Fingerprint({canvas:!0})),f}function b(){}function c(a){this.ttl=a||1800,this.xhr=d("xhr")}function d(a,e){return"xhr"==a?new b:"localStorage"==a?new c(e):a instanceof Object&&a.call?(a.setXhr&&a.setXhr(d("xhr")),a):void 0}function e(a){return arguments.length>1?void("console"in window&&window.console.log("ERROR : YtApi constructor definition has changed in a breaking manner")):("string"==typeof a&&(a={accountId:a}),"undefined"==typeof a.domainId&&"console"in window&&window.console.log("DEPRECATED : YtApi constructor definition has changed in a breaking manner. DomainId will be mandatory in some weeks. Please contact Ysance to have the documentation"),this.accountId=a.accountId,this.domainId=a.domainId,this.endpoint=a.endpoint||"api.dmp.y-track.com",this.endpoints=a.endpoints||{api:this.endpoint,mediaid:"prod.y-medialink.com"},this.token=a.token,this.xhrStrategy=d("xhr"),this.strategy=d(a.strategy||"xhr",a.strategyTtl),void(this.saveIdForServer=a.saveIdForServer))}var f;return b.getXHR=function(){var a=null;return window.XDomainRequest?a=new XDomainRequest:window.XMLHttpRequest&&(a=new XMLHttpRequest),a},b.serialize=function(a,c){var d,e,f,g=[];for(d in a)a.hasOwnProperty(d)&&(e=c?c+"["+d+"]":d,f=a[d],g.push("object"==typeof f?b.serialize(f,e):encodeURIComponent(e)+"="+encodeURIComponent(f)));return g.join("&")},b.prototype.call=function(a){var c=a.url,d=a.token,e=a.data,f=a.method,g=a.cbSuccess,h=a.cbError,i=b.getXHR();return null!==i&&(i.open(f,c),"withCredentials"in i&&(i.withCredentials=!0),d&&i.setRequestHeader("Authorization","BEARER "+d),i.onload=function(a){var b;"status"in i?i.status>=200&&i.status<400?(b=JSON.parse(i.responseText),"function"==typeof g&&g(b)):"function"==typeof h&&h(a):(b=JSON.parse(i.responseText),"function"==typeof g&&g(b))},i.onerror=function(a){"function"==typeof h&&h(a),"console"in window&&window.console.log(a)},i.send(b.serialize(e))),i},c.prototype.call=function(a){if(!localStorage)return this.xhr.call(a);var b="YT-"+JSON.stringify(a.data),c=localStorage.getItem(b);if(c&&(c=JSON.parse(c)),c&&c.expired_at&&c.expired_at>(new Date).getTime())return localStorage.setItem(b,JSON.stringify({data:c.data,expired_at:(new Date).getTime()+1e3*this.ttl})),a.cbSuccess(c.data);var d=a.cbSuccess;return a.cbSuccess=function(a){return localStorage.setItem(b,JSON.stringify({data:a,expired_at:(new Date).getTime()+1e3*this.ttl})),d(a)}.bind(this),this.xhr.call(a)},e.prototype.getMediaID=function(a,b){return this.xhrStrategy.call({url:"//"+this.endpoints.mediaid+"/mediaid",token:this.token,method:"GET",cbSuccess:a,cbError:b})},e.prototype.findVisitors=function(a,c,d){return a=a||{},a.domainId=this.domainId,this.strategy.call({url:"//"+this.endpoint+"/"+this.accountId+"/v1/visitors?"+b.serialize(a),token:this.token,data:a,method:"GET",cbSuccess:c,cbError:d})},e.prototype.findVisitorFields=function(a,c,d){return this.strategy.call({url:"//"+this.endpoint+"/"+this.accountId+"/v1/visitor-fields?"+b.serialize(a),token:this.token,data:a,method:"GET",cbSuccess:c,cbError:d})},e.prototype.findSegments=function(a,c,d){return this.strategy.call({url:"//"+this.endpoint+"/"+this.accountId+"/v1/segments?"+b.serialize(a),token:this.token,data:a,method:"GET",cbSuccess:c,cbError:d})},e.prototype.findCurrentVisitor=function(b,c,d){var e;if("string"==typeof b&&("console"in window&&window.console.log("DEPRECATED : YtApi.findCurrentVisitor definition has changed. fields is now criterias. Please contact Ysance to have the new documentation"),e=b),b="object"==typeof b?b:{},b.fpc=navigator.cookieEnabled?1:0,b.id_fpc=this._getCookie("__ywtfpcvuid"),""==b.id_fpc&&(b.id_fpc=this._getFpcFromLS("__ywtfpcvuid")),e&&(b.fields=e),b.id_fp||(b.id_fp=a().get()),this.saveIdForServer){var f=c;c=function(a){if(a.id){var b=new Date,c=30;b.setTime(b.getTime()+24*c*60*60*1e3);var d="expires="+b.toGMTString();document.cookie="ysmasteridsave="+a.id+";"+d+";path=/"}return f(a)}}return this.findVisitors(b,c,d)},e.prototype._getCookie=function(a){var b,c,d=a+"=",e=document.cookie.split(";");for(b=0;b<e.length;b+=1){for(c=e[b];" "===c.charAt(0);)c=c.substring(1);if(-1!==c.indexOf(d))return c.substring(d.length,c.length)}return""},e.prototype._getFpcFromLS=function(a){var b="";if(localStorage){var c=localStorage.getItem(a);if(c){var d=JSON.parse(c);d.e&&d.e>(new Date).getTime().toString()&&(b=d.f)}}return b},e.prototype.getStrategy=function(){return this.strategy},e}();!function(){"use strict";function a(){"function"==typeof window.PHmd5&&(window.PHmd5(this),window.PHmd5=void 0,this.innerMd5=this.md5,this.md5=function(a){return a?this.innerMd5(a):""}),"function"==typeof window.PHsha256&&(window.PHsha256(this),window.PHsha256=void 0,this.innerSha256=this.sha256,this.innerSha224=this.sha224,this.sha256=function(a){return a?this.innerSha256(a):""},this.sha224=function(a){return a?this.innerSha224(a):""})}window._phHash=new a}();